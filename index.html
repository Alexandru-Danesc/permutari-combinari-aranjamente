<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>My PDF Library</title>

<!-- jQuery (REQUIRED for Turn.js) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!-- PDF.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>

<!-- Turn.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>

<style>
body {
    font-family: Arial;
    background: #e6e6e6;
    text-align: center;
}

#book {
    width: 900px;
    height: 600px;
    margin: 40px auto;
}

.page {
    background: white;
    box-shadow: 0 0 8px rgba(0,0,0,0.2);
}

canvas {
    width: 100%;
    height: 100%;
}

ul {
    list-style: none;
    padding: 0;
}

li {
    margin: 10px;
}

a {
    text-decoration: none;
    font-weight: bold;
    font-size: 18px;
}
</style>
</head>

<body>

<h1>My PDF Library</h1>

<ul>
    <li><a href="#" onclick="loadPDF('pdfs/book1.pdf')">Book 1</a></li>
    <li><a href="#" onclick="loadPDF('pdfs/book2.pdf')">Book 2</a></li>
</ul>

<div id="book"></div>

<script>

async function loadPDF(url) {

    const book = document.getElementById('book');
    book.innerHTML = "";

    const pdf = await pdfjsLib.getDocument(url).promise;

    // Render pages in correct order
    for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {

        const page = await pdf.getPage(pageNum);
        const viewport = page.getViewport({ scale: 1.5 });

        const canvas = document.createElement("canvas");
        const context = canvas.getContext("2d");

        canvas.width = viewport.width;
        canvas.height = viewport.height;

        await page.render({
            canvasContext: context,
            viewport: viewport
        }).promise;

        const div = document.createElement("div");
        div.className = "page";
        div.appendChild(canvas);

        book.appendChild(div);
    }

    // Initialize flipbook AFTER all pages loaded
    $('#book').turn({
        width: 900,
        height: 600,
        autoCenter: true,
        display: 'double',   // THIS makes it two pages
        elevation: 50,
        gradients: true,
        acceleration: true
    });
}

</script>

</body>
</html>
